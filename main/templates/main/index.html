{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>상명대학교</title>
  <link rel="stylesheet" href="{% static 'main/style.css' %}">  <!--css 호출-->
</head>
<body>

<!-- 사이드바 -->
<div class="sidebar">
  <div class="sidebar-header" onclick="window.location.href='/'">상명대학교</div>
  <div class="menu-item" onclick="openSubMenu('intro')">상명소개</div>
  <div class="menu-item" onclick="openSubMenu('admission')">입학안내</div>
  <div class="menu-item" onclick="openSubMenu('college')">대학 · 대학원</div>
  <div class="menu-item" onclick="openSubMenu('research')">연구 · 산학</div>
  <div class="menu-item" onclick="openSubMenu('academic')">학사안내</div>
  <div class="menu-item" onclick="openSubMenu('life')">대학생활</div>
  <div class="sidebar-header"></div>
  <div class="menu-item" onclick="openSubMenu('course')">수강신청</div>
  <div class="menu-item">SMPOPUP</div>
  <div class="menu-item" onclick="openSubMenu('login')">Login</div>
  <div class="menu-item" onclick="openSubMenu('favorites')">자주 사용하는 메뉴</div>
  <div class="sidebar-footer">
    <div class="icon-button">🔍</div>
    <div class="icon-button">📅</div>
    <div class="language-select">ENG &nbsp; CHN &nbsp; VNM</div>
  </div>
</div>

<!-- 서브 메뉴 -->
<div id="subMenu" class="sub-menu">
  <div class="close-btn" onclick="closeSubMenu()">×</div>
  <h3 id="subMenuTitle">제목</h3>
  <div id="subMenuContent">내용</div>
</div>

<!-- 메인 콘텐츠 -->
<div class="main-content">
  <section>
    <h1>메인 페이지</h1>
    <p>환영합니다! 이곳은 메인 페이지입니다.</p>
  </section>

  <section id="notice" style="background-color:#111; color:white; display: flex; gap: 40px; padding: 40px;">
    <!-- 검색 -->
    <div style="flex: 1;">
      <h2 style="font-size: 2em; line-height: 1.5;">그대, 상명을 원천으로<br>세상에 솟는 샘물 되어라.</h2>
        <form action="/notice/search" method="get" style="margin-top: 30px;">
        <div style="display: flex; margin: 20px 0;">
            <input type="text" name="q" value="{{ query }}" placeholder="검색" style="flex: 1; padding: 10px; border: none; background: #333; color: white;">
            <button style="background: #99aaff; border: none; padding: 10px 20px; cursor: pointer;">검색</button>
        </div>
        </form>
    </div>

    <!-- 통합공지 -->
    <div style="flex: 2;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2 style="font-size: 2em; margin: 0;">통합공지</h2>
        <a href="/noticelist" style="color: #aaa; font-size: 0.9em; text-decoration: none;">더보기</a>
    </div>

    <ul style="list-style: none; padding: 0;">
        {% for notice in notices %}
        <li style="padding: 10px 0; border-bottom: 1px solid #ddd;">
            <a href="/notice?id={{ notice.id }}" style="text-decoration: none; color: #0d47a1; font-size: 1.1em;">
            {{ notice.title }}
            </a>
            <div style="font-size: 0.9em; color: #aaa; margin-top: 4px;">
                작성자: {{ notice.author }} | 작성일: {{ notice.created_at|date:"Y-m-d" }}
            </div>
        </li>
        {% empty %}
        <li>공지사항이 없습니다.</li>
        {% endfor %}
    </ul>
    </div>
  </section>
</div>

<script src="{% static 'main/script.js' %}"></script>

</body>
</html>
